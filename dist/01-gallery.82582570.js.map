{"version":3,"sources":["../node_modules/simplelightbox/dist/simple-lightbox.modules.js","js/gallery-items.js","js/01-gallery.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["galleryItems","preview","original","description","console","log","gallery","document","querySelector","imgMarkUp","makeGallery","insertAdjacentHTML","items","map","item","join","lightbox","SimpleLightbox","captionsData","captionDelay","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"AGAA,ACAA,IDAIoB,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;AJAA;AGCA,ACCA,AJDA,AEAA,SCASZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,AJDF,MGAM,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,AHAJ,AEDA,ICCIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,AJAF,EIAEA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AJAJ,AEDA,ADJO,IGKHA,EHLSnC,EGKL,CAACuC,MAAL,GHLqB,GAAG,CAC1B;AEKA,ACAC,AJAH,ACJItC,EAAAA,CGEF,MDEOmB,AFJE,EACL,OEGJ,+EFLA;AEMD,AHAD,ACHIlB,EAAAA,QAAQ,EACN,sFAJJ;AGMAkC,AJCF,ACFIjC,EGCFiC,AHDEjC,OGCK,CAACqC,GHDK,CGCb,CHDe,EGCAL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDER,AJCF,AETA,ADCE,CAD0B,CGQ1BA,CHAA,GGAI,CAACS,EDCEtB,QCDP,CAAgBuB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCD,IAAI,CAACW,WAA3C;ADEA,ACDD,AJCD,AELA,ADII7C,EAAAA,OAAO,EACL,2EAFJ;AEGA,AHAF,AEJAG,ADIIF,EAAAA,IEAE,CDJC,CAACG,EDII,CCJZ,CAAYL,ADKN,0BCLN,iDDCE;AEIE,ACDJ,AJCA,AEFA,ADGIG,EAAAA,EGFA4C,EFDEzC,ICEI,GDFG,ADGE,CEDDiB,ACDA,CHEG,CCHDhB,CECC,EDCP,EAAN,ACDJ,GFDwB,CAACC,aAAT,CAAuB,UAAvB,CAAhB;ACGG,AHAH,AEFA,ADHE,CAR0B,EEW1B,AFIA,CEFE,EDFEC,KCEKe,GAAP,CDFW,CCEC,EDFEd,WAAW,CAACV,0BAAD,CAA7B;ACGI,ACFJ,AJEA,AEFAM,ADIIL,EAAAA,KCJG,CCECwB,ADFAd,CEACqC,AHIE,EACL,IEHS,GAAG,ACFlB,CDEmB,ECFE,GDEGxB,EDFxB,CCE2B,ADFA,CCECE,KAAV,EAAiBC,GDFnC,ECEkB,ADFsBlB,CCEC,QDFzC,iCDGE,sBEDgB,CAAd;ACDF,AJEF,ACGIP,EAAAA,IGLE6C,IHKM,EACN,IGNJ,EAAgB,iEHEhB;AEAE,ACDA,AJEJ,AEFA,ADMI5C,EAAAA,MELIsB,CDDCf,IDMM,EELX,AFKa,EELA,GDDjB,CAAqBE,KAArB,EAA4B;ACEtB,ACDH,AJEH,AEFE,ADAA,CAf0B,EAsB1B,MCPOA,ICCIgB,CDDC,CAACf,GAAN,CAAUC,ICCI,ADDA,CCCCW,GDDG,ICCI,CAAC,CAAD,CAAR,CAAjB;AACD,AHCL,AEFM,ADOFxB,EAAAA,OAAO,ECPG,ADQR,yEAFJ;AEJC,ACDD8C,AJEF,AEFA,ADQI7C,EGRF6C,AHQE7C,QAAQ,EGRA,AHSN,GGTS+C,UAAU,CAAC,YAAY,OFAOnC,IAAI,CAACZ,QAAS,2BDKzD;AGJE,AJEJ,AEFA,ADSIC,EAAAA,MGTI+C,KAAK,AHSE,EAAE,CGTD3C,QAAQ,CAAC4C,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,AHCF,AEFA,ADGE,CAtB0B,EA6B1B,METO,GAAP;AACD,ACFG,AJGJ,AEFA,ADUIlD,EAAAA,OGXK,AHWE,EACL,EGZOmD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GFCGpC,EEDE,CAACuC,CFCC,CAACpD,IED5B,EAAkCmD,CAAC,AFCC,EEDpC,EAAuC,2CHUzC;AGTI,AJGN,AEFA,ADWIlD,EAAAA,QGZM8B,AHYE,EACN,IGbU,CAACJ,UAAP,CAAkBsB,KAAK,CAACE,CAAD,AFCEtC,CEDP,CAAS0B,EFCE,CAACtC,CED9B,MAAqC8B,CFCE,KEDI,CAACV,YAAP,EAAzC,EAAgE,iBHSpE;AENF,ACFQY,AJGR,AEFA,ADYI/B,EAAAA,MGbI+B,CDECN,IFWM,EAAE,GGbC,CDElB,ACFmBsB,CDECrB,GAApB,CCFwB,CDEC,ACFAuB,CAAD,CAAN,AFCStC,CEDnB,GFCuB,CAACX,WAAY;ACE1C,ACFK,AJGP,AEFA,ADME,CA7B0B,EAoC1B,MEZO,CAAC,KAAK0B,GAAN,EAAWC,OAAX,CAAmB,gFAAnB,EAAqG,IAArG,IAA6G,GAApH;AACD,ACFI,AJGL,AEFA,ADaI7B,EAAAA,OAAO,EACL,2EAFJ;ADTF,AEFA,ADcIC,EAAAA,QAAQ,EACN,GCxBA,wEDoBJ;AETF6B,ACFIgB,AJGJ,AEFK,ADeD5C,EAAAA,CC1BK,CEUL4C,CFEChC,ECAE,CAACO,CDZC,CAYC,GAZD,AD0BM,CGhBD,AFVZ,CD0Be,EGhBA,GDEjB,CCFI,EDEmBD,kBAAvB;AACAU,ACFG,AJGH,AEDC,ADQC,CApC0B,EGiBH,AH0BvB,EGjBG,EDEE,ACXkB,CDWjBH,ACXN,UDWF,GAAqBA,UAArB;ACDC,AJGD,ACcI3B,EAAAA,OAAO,EACL,0EAFJ;ADZF,AEDA,ADgBIC,EAAAA,IChBEc,IDgBM,EACN,ECjBQ,GAAG,IAAIC,uBAAJ,CAAmB,YAAnB,EAAiC,2BDahD;AGdFqC,AJGA,AEFoDpC,ADkBhDf,EClBgDe,ADkBhDf,IGnBE,CAAC4B,MHmBQ,CGnBf,AFCgE,CDkB/C,CClBgD,CEDhDiB,IFCiC,KEDlD;AJIA,AEHwE7B,ADatE,CA3C0B,CC8B4CA,CDoBtE,WCpBkF,EAAC;AFIrF,AEJkD,ADqB9ClB,CCrBa,CAAjB,ADqBIA,ECnBJ,KDmBW,EACL,2EAFJ;ADfF,ACkBIC,EAAAA,QAAQ,EACN,2EAJJ;ADdF,AEFA,ADqBIC,EAAAA,WAAW,EAAE;ADlBjB,AEFA,ADeE,CAlD0B,EAyD1B;ADnBF,AEFA,ADsBIF,EAAAA,OAAO,EACL,4EAFJ;ADlBF,AEFA,ADuBIC,EAAAA,QAAQ,EACN,4EAJJ;ADjBF,AEFA,ADwBIC,EAAAA,WAAW,EAAE;ADrBjB,AEFA,ADkBE,CAzD0B,CAArB;AD0CP,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA,AEFA;AFGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"01-gallery.82582570.js","sourceRoot":"..\\src","sourcesContent":["/*!\r\n\tBy AndrÃ© Rinas, www.andrerinas.de\r\n\tDocumentation, www.simplelightbox.de\r\n\tAvailable for use under the MIT License\r\n\tVersion 2.10.1\r\n*/\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports[\"default\"] = void 0;\r\n\r\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nvar SimpleLightbox = /*#__PURE__*/function () {\r\n  function SimpleLightbox(elements, options) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, SimpleLightbox);\r\n\r\n    _defineProperty(this, \"defaultOptions\", {\r\n      sourceAttr: 'href',\r\n      overlay: true,\r\n      spinner: true,\r\n      nav: true,\r\n      navText: ['&lsaquo;', '&rsaquo;'],\r\n      captions: true,\r\n      captionDelay: 0,\r\n      captionSelector: 'img',\r\n      captionType: 'attr',\r\n      captionsData: 'title',\r\n      captionPosition: 'bottom',\r\n      captionClass: '',\r\n      close: true,\r\n      closeText: '&times;',\r\n      swipeClose: true,\r\n      showCounter: true,\r\n      fileExt: 'png|jpg|jpeg|gif|webp',\r\n      animationSlide: true,\r\n      animationSpeed: 250,\r\n      preloading: true,\r\n      enableKeyboard: true,\r\n      loop: true,\r\n      rel: false,\r\n      docClose: true,\r\n      swipeTolerance: 50,\r\n      className: 'simple-lightbox',\r\n      widthRatio: 0.8,\r\n      heightRatio: 0.9,\r\n      scaleImageToRatio: false,\r\n      disableRightClick: false,\r\n      disableScroll: true,\r\n      alertError: true,\r\n      alertErrorMessage: 'Image not found, next image will be loaded',\r\n      additionalHtml: false,\r\n      history: true,\r\n      throttleInterval: 0,\r\n      doubleTapZoom: 2,\r\n      maxZoom: 10,\r\n      htmlClass: 'has-lightbox',\r\n      rtl: false,\r\n      fixedClass: 'sl-fixed',\r\n      fadeSpeed: 300,\r\n      uniqueImages: true,\r\n      focus: true,\r\n      scrollZoom: true,\r\n      scrollZoomFactor: 0.5\r\n    });\r\n\r\n    _defineProperty(this, \"transitionPrefix\", void 0);\r\n\r\n    _defineProperty(this, \"isPassiveEventsSupported\", void 0);\r\n\r\n    _defineProperty(this, \"transitionCapable\", false);\r\n\r\n    _defineProperty(this, \"isTouchDevice\", 'ontouchstart' in window);\r\n\r\n    _defineProperty(this, \"isAppleDevice\", /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform));\r\n\r\n    _defineProperty(this, \"initialLocationHash\", void 0);\r\n\r\n    _defineProperty(this, \"pushStateSupport\", 'pushState' in history);\r\n\r\n    _defineProperty(this, \"isOpen\", false);\r\n\r\n    _defineProperty(this, \"isAnimating\", false);\r\n\r\n    _defineProperty(this, \"isClosing\", false);\r\n\r\n    _defineProperty(this, \"isFadeIn\", false);\r\n\r\n    _defineProperty(this, \"urlChangedOnce\", false);\r\n\r\n    _defineProperty(this, \"hashReseted\", false);\r\n\r\n    _defineProperty(this, \"historyHasChanges\", false);\r\n\r\n    _defineProperty(this, \"historyUpdateTimeout\", null);\r\n\r\n    _defineProperty(this, \"currentImage\", void 0);\r\n\r\n    _defineProperty(this, \"eventNamespace\", 'simplelightbox');\r\n\r\n    _defineProperty(this, \"domNodes\", {});\r\n\r\n    _defineProperty(this, \"loadedImages\", []);\r\n\r\n    _defineProperty(this, \"initialImageIndex\", 0);\r\n\r\n    _defineProperty(this, \"currentImageIndex\", 0);\r\n\r\n    _defineProperty(this, \"initialSelector\", null);\r\n\r\n    _defineProperty(this, \"globalScrollbarWidth\", 0);\r\n\r\n    _defineProperty(this, \"controlCoordinates\", {\r\n      swipeDiff: 0,\r\n      swipeYDiff: 0,\r\n      swipeStart: 0,\r\n      swipeEnd: 0,\r\n      swipeYStart: 0,\r\n      swipeYEnd: 0,\r\n      mousedown: false,\r\n      imageLeft: 0,\r\n      zoomed: false,\r\n      containerHeight: 0,\r\n      containerWidth: 0,\r\n      containerOffsetX: 0,\r\n      containerOffsetY: 0,\r\n      imgHeight: 0,\r\n      imgWidth: 0,\r\n      capture: false,\r\n      initialOffsetX: 0,\r\n      initialOffsetY: 0,\r\n      initialPointerOffsetX: 0,\r\n      initialPointerOffsetY: 0,\r\n      initialPointerOffsetX2: 0,\r\n      initialPointerOffsetY2: 0,\r\n      initialScale: 1,\r\n      initialPinchDistance: 0,\r\n      pointerOffsetX: 0,\r\n      pointerOffsetY: 0,\r\n      pointerOffsetX2: 0,\r\n      pointerOffsetY2: 0,\r\n      targetOffsetX: 0,\r\n      targetOffsetY: 0,\r\n      targetScale: 0,\r\n      pinchOffsetX: 0,\r\n      pinchOffsetY: 0,\r\n      limitOffsetX: 0,\r\n      limitOffsetY: 0,\r\n      scaleDifference: 0,\r\n      targetPinchDistance: 0,\r\n      touchCount: 0,\r\n      doubleTapped: false,\r\n      touchmoveCount: 0\r\n    });\r\n\r\n    this.options = Object.assign(this.defaultOptions, options);\r\n    this.isPassiveEventsSupported = this.checkPassiveEventsSupport();\r\n\r\n    if (typeof elements === 'string') {\r\n      this.initialSelector = elements;\r\n      this.elements = Array.from(document.querySelectorAll(elements));\r\n    } else {\r\n      this.elements = typeof elements.length !== 'undefined' && elements.length > 0 ? Array.from(elements) : [elements];\r\n    }\r\n\r\n    this.relatedElements = [];\r\n    this.transitionPrefix = this.calculateTransitionPrefix();\r\n    this.transitionCapable = this.transitionPrefix !== false;\r\n    this.initialLocationHash = this.hash; // this should be handled by attribute selector IMHO! => 'a[rel=bla]'...\r\n\r\n    if (this.options.rel) {\r\n      this.elements = this.getRelated(this.options.rel);\r\n    }\r\n\r\n    if (this.options.uniqueImages) {\r\n      var imgArr = [];\r\n      this.elements = Array.from(this.elements).filter(function (element) {\r\n        var src = element.getAttribute(_this.options.sourceAttr);\r\n\r\n        if (imgArr.indexOf(src) === -1) {\r\n          imgArr.push(src);\r\n          return true;\r\n        }\r\n\r\n        return false;\r\n      });\r\n    }\r\n\r\n    this.createDomNodes();\r\n\r\n    if (this.options.close) {\r\n      this.domNodes.wrapper.appendChild(this.domNodes.closeButton);\r\n    }\r\n\r\n    if (this.options.nav) {\r\n      this.domNodes.wrapper.appendChild(this.domNodes.navigation);\r\n    }\r\n\r\n    if (this.options.spinner) {\r\n      this.domNodes.wrapper.appendChild(this.domNodes.spinner);\r\n    }\r\n\r\n    this.addEventListener(this.elements, 'click.' + this.eventNamespace, function (event) {\r\n      if (_this.isValidLink(event.currentTarget)) {\r\n        event.preventDefault();\r\n\r\n        if (_this.isAnimating) {\r\n          return false;\r\n        }\r\n\r\n        _this.initialImageIndex = _this.elements.indexOf(event.currentTarget);\r\n\r\n        _this.openImage(event.currentTarget);\r\n      }\r\n    }); // close addEventListener click addEventListener doc\r\n\r\n    if (this.options.docClose) {\r\n      this.addEventListener(this.domNodes.wrapper, ['click.' + this.eventNamespace, 'touchstart.' + this.eventNamespace], function (event) {\r\n        if (_this.isOpen && event.target === event.currentTarget) {\r\n          _this.close();\r\n        }\r\n      });\r\n    } // disable rightclick\r\n\r\n\r\n    if (this.options.disableRightClick) {\r\n      this.addEventListener(document.body, 'contextmenu.' + this.eventNamespace, function (event) {\r\n        if (event.target.parentElement.classList.contains(\"sl-image\")) {\r\n          event.preventDefault();\r\n        }\r\n      });\r\n    } // keyboard-control\r\n\r\n\r\n    if (this.options.enableKeyboard) {\r\n      this.addEventListener(document.body, 'keyup.' + this.eventNamespace, this.throttle(function (event) {\r\n        _this.controlCoordinates.swipeDiff = 0; // keyboard control only if lightbox is open\r\n\r\n        if (_this.isAnimating && event.key === 'Escape') {\r\n          _this.currentImage.setAttribute('src', '');\r\n\r\n          _this.isAnimating = false;\r\n          return _this.close();\r\n        }\r\n\r\n        if (_this.isOpen) {\r\n          event.preventDefault();\r\n\r\n          if (event.key === 'Escape') {\r\n            _this.close();\r\n          }\r\n\r\n          if (!_this.isAnimating && ['ArrowLeft', 'ArrowRight'].indexOf(event.key) > -1) {\r\n            _this.loadImage(event.key === 'ArrowRight' ? 1 : -1);\r\n          }\r\n        }\r\n      }, this.options.throttleInterval));\r\n    }\r\n\r\n    this.addEvents();\r\n  }\r\n\r\n  _createClass(SimpleLightbox, [{\r\n    key: \"checkPassiveEventsSupport\",\r\n    value: function checkPassiveEventsSupport() {\r\n      // https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\r\n      // Test via a getter in the options object to see if the passive property is accessed\r\n      var supportsPassive = false;\r\n\r\n      try {\r\n        var opts = Object.defineProperty({}, 'passive', {\r\n          get: function get() {\r\n            supportsPassive = true;\r\n          }\r\n        });\r\n        window.addEventListener(\"testPassive\", null, opts);\r\n        window.removeEventListener(\"testPassive\", null, opts);\r\n      } catch (e) {}\r\n\r\n      return supportsPassive;\r\n    }\r\n  }, {\r\n    key: \"createDomNodes\",\r\n    value: function createDomNodes() {\r\n      this.domNodes.overlay = document.createElement('div');\r\n      this.domNodes.overlay.classList.add('sl-overlay');\r\n      this.domNodes.overlay.dataset.opacityTarget = \".7\";\r\n      this.domNodes.closeButton = document.createElement('button');\r\n      this.domNodes.closeButton.classList.add('sl-close');\r\n      this.domNodes.closeButton.innerHTML = this.options.closeText;\r\n      this.domNodes.spinner = document.createElement('div');\r\n      this.domNodes.spinner.classList.add('sl-spinner');\r\n      this.domNodes.spinner.innerHTML = '<div></div>';\r\n      this.domNodes.navigation = document.createElement('div');\r\n      this.domNodes.navigation.classList.add('sl-navigation');\r\n      this.domNodes.navigation.innerHTML = \"<button class=\\\"sl-prev\\\">\".concat(this.options.navText[0], \"</button><button class=\\\"sl-next\\\">\").concat(this.options.navText[1], \"</button>\");\r\n      this.domNodes.counter = document.createElement('div');\r\n      this.domNodes.counter.classList.add('sl-counter');\r\n      this.domNodes.counter.innerHTML = '<span class=\"sl-current\"></span>/<span class=\"sl-total\"></span>';\r\n      this.domNodes.caption = document.createElement('div');\r\n      this.domNodes.caption.classList.add('sl-caption', 'pos-' + this.options.captionPosition);\r\n\r\n      if (this.options.captionClass) {\r\n        this.domNodes.caption.classList.add(this.options.captionClass);\r\n      }\r\n\r\n      this.domNodes.image = document.createElement('div');\r\n      this.domNodes.image.classList.add('sl-image');\r\n      this.domNodes.wrapper = document.createElement('div');\r\n      this.domNodes.wrapper.classList.add('sl-wrapper');\r\n      this.domNodes.wrapper.setAttribute('tabindex', -1);\r\n      this.domNodes.wrapper.setAttribute('role', 'dialog');\r\n      this.domNodes.wrapper.setAttribute('aria-hidden', false);\r\n\r\n      if (this.options.className) {\r\n        this.domNodes.wrapper.classList.add(this.options.className);\r\n      }\r\n\r\n      if (this.options.rtl) {\r\n        this.domNodes.wrapper.classList.add('sl-dir-rtl');\r\n      }\r\n    }\r\n  }, {\r\n    key: \"throttle\",\r\n    value: function throttle(func, limit) {\r\n      var inThrottle;\r\n      return function () {\r\n        if (!inThrottle) {\r\n          func.apply(this, arguments);\r\n          inThrottle = true;\r\n          setTimeout(function () {\r\n            return inThrottle = false;\r\n          }, limit);\r\n        }\r\n      };\r\n    }\r\n  }, {\r\n    key: \"isValidLink\",\r\n    value: function isValidLink(element) {\r\n      return !this.options.fileExt || element.getAttribute(this.options.sourceAttr) && new RegExp('(' + this.options.fileExt + ')$', 'i').test(element.getAttribute(this.options.sourceAttr));\r\n    }\r\n  }, {\r\n    key: \"calculateTransitionPrefix\",\r\n    value: function calculateTransitionPrefix() {\r\n      var s = (document.body || document.documentElement).style;\r\n      return 'transition' in s ? '' : 'WebkitTransition' in s ? '-webkit-' : 'MozTransition' in s ? '-moz-' : 'OTransition' in s ? '-o' : false;\r\n    }\r\n  }, {\r\n    key: \"toggleScrollbar\",\r\n    value: function toggleScrollbar(type) {\r\n      var scrollbarWidth = 0;\r\n      var fixedElements = [].slice.call(document.querySelectorAll('.' + this.options.fixedClass));\r\n\r\n      if (type === 'hide') {\r\n        var fullWindowWidth = window.innerWidth;\r\n\r\n        if (!fullWindowWidth) {\r\n          var documentElementRect = document.documentElement.getBoundingClientRect();\r\n          fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\r\n        }\r\n\r\n        if (document.body.clientWidth < fullWindowWidth || this.isAppleDevice) {\r\n          var scrollDiv = document.createElement('div'),\r\n              paddingRight = parseInt(document.body.style.paddingRight || 0, 10);\r\n          scrollDiv.classList.add('sl-scrollbar-measure');\r\n          document.body.appendChild(scrollDiv);\r\n          scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\r\n          document.body.removeChild(scrollDiv);\r\n          document.body.dataset.originalPaddingRight = paddingRight;\r\n\r\n          if (scrollbarWidth > 0 || scrollbarWidth == 0 && this.isAppleDevice) {\r\n            document.body.classList.add('hidden-scroll');\r\n            document.body.style.paddingRight = paddingRight + scrollbarWidth + 'px';\r\n            fixedElements.forEach(function (element) {\r\n              var actualPadding = element.style.paddingRight;\r\n              var calculatedPadding = window.getComputedStyle(element)['padding-right'];\r\n              element.dataset.originalPaddingRight = actualPadding;\r\n              element.style.paddingRight = \"\".concat(parseFloat(calculatedPadding) + scrollbarWidth, \"px\");\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        document.body.classList.remove('hidden-scroll');\r\n        document.body.style.paddingRight = document.body.dataset.originalPaddingRight;\r\n        fixedElements.forEach(function (element) {\r\n          var padding = element.dataset.originalPaddingRight;\r\n\r\n          if (typeof padding !== 'undefined') {\r\n            element.style.paddingRight = padding;\r\n          }\r\n        });\r\n      }\r\n\r\n      return scrollbarWidth;\r\n    }\r\n  }, {\r\n    key: \"close\",\r\n    value: function close() {\r\n      var _this2 = this;\r\n\r\n      if (!this.isOpen || this.isAnimating || this.isClosing) {\r\n        return false;\r\n      }\r\n\r\n      this.isClosing = true;\r\n      var element = this.relatedElements[this.currentImageIndex];\r\n      element.dispatchEvent(new Event('close.simplelightbox'));\r\n\r\n      if (this.options.history) {\r\n        this.historyHasChanges = false;\r\n\r\n        if (!this.hashReseted) {\r\n          this.resetHash();\r\n        }\r\n      }\r\n\r\n      this.removeEventListener(document, 'focusin.' + this.eventNamespace);\r\n      this.fadeOut(document.querySelectorAll('.sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter'), this.options.fadeSpeed, function () {\r\n        if (_this2.options.disableScroll) {\r\n          _this2.toggleScrollbar('show');\r\n        }\r\n\r\n        if (_this2.options.htmlClass && _this2.options.htmlClass !== '') {\r\n          document.querySelector('html').classList.remove(_this2.options.htmlClass);\r\n        }\r\n\r\n        document.body.removeChild(_this2.domNodes.wrapper);\r\n        document.body.removeChild(_this2.domNodes.overlay);\r\n        _this2.domNodes.additionalHtml = null;\r\n        element.dispatchEvent(new Event('closed.simplelightbox'));\r\n        _this2.isClosing = false;\r\n      });\r\n      this.currentImage = null;\r\n      this.isOpen = false;\r\n      this.isAnimating = false; // reset touchcontrol coordinates\r\n\r\n      for (var key in this.controlCoordinates) {\r\n        this.controlCoordinates[key] = 0;\r\n      }\r\n\r\n      this.controlCoordinates.mousedown = false;\r\n      this.controlCoordinates.zoomed = false;\r\n      this.controlCoordinates.capture = false;\r\n      this.controlCoordinates.initialScale = this.minMax(1, 1, this.options.maxZoom);\r\n      this.controlCoordinates.doubleTapped = false;\r\n    }\r\n  }, {\r\n    key: \"hash\",\r\n    get: function get() {\r\n      return window.location.hash.substring(1);\r\n    }\r\n  }, {\r\n    key: \"preload\",\r\n    value: function preload() {\r\n      var _this3 = this;\r\n\r\n      var index = this.currentImageIndex,\r\n          length = this.relatedElements.length,\r\n          next = index + 1 < 0 ? length - 1 : index + 1 >= length - 1 ? 0 : index + 1,\r\n          prev = index - 1 < 0 ? length - 1 : index - 1 >= length - 1 ? 0 : index - 1,\r\n          nextImage = new Image(),\r\n          prevImage = new Image();\r\n      nextImage.addEventListener('load', function (event) {\r\n        var src = event.target.getAttribute('src');\r\n\r\n        if (_this3.loadedImages.indexOf(src) === -1) {\r\n          //is this condition even required... setting multiple times will not change usage...\r\n          _this3.loadedImages.push(src);\r\n        }\r\n\r\n        _this3.relatedElements[index].dispatchEvent(new Event('nextImageLoaded.' + _this3.eventNamespace));\r\n      });\r\n      nextImage.setAttribute('src', this.relatedElements[next].getAttribute(this.options.sourceAttr));\r\n      prevImage.addEventListener('load', function (event) {\r\n        var src = event.target.getAttribute('src');\r\n\r\n        if (_this3.loadedImages.indexOf(src) === -1) {\r\n          _this3.loadedImages.push(src);\r\n        }\r\n\r\n        _this3.relatedElements[index].dispatchEvent(new Event('prevImageLoaded.' + _this3.eventNamespace));\r\n      });\r\n      prevImage.setAttribute('src', this.relatedElements[prev].getAttribute(this.options.sourceAttr));\r\n    }\r\n  }, {\r\n    key: \"loadImage\",\r\n    value: function loadImage(direction) {\r\n      var _this4 = this;\r\n\r\n      var slideDirection = direction;\r\n\r\n      if (this.options.rtl) {\r\n        direction = -direction;\r\n      }\r\n\r\n      this.relatedElements[this.currentImageIndex].dispatchEvent(new Event('change.' + this.eventNamespace));\r\n      this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((direction === 1 ? 'next' : 'prev') + '.' + this.eventNamespace));\r\n      var newIndex = this.currentImageIndex + direction;\r\n\r\n      if (this.isAnimating || (newIndex < 0 || newIndex >= this.relatedElements.length) && this.options.loop === false) {\r\n        return false;\r\n      }\r\n\r\n      this.currentImageIndex = newIndex < 0 ? this.relatedElements.length - 1 : newIndex > this.relatedElements.length - 1 ? 0 : newIndex;\r\n      this.domNodes.counter.querySelector('.sl-current').innerHTML = this.currentImageIndex + 1;\r\n\r\n      if (this.options.animationSlide) {\r\n        this.slide(this.options.animationSpeed / 1000, -100 * slideDirection - this.controlCoordinates.swipeDiff + 'px');\r\n      }\r\n\r\n      this.fadeOut(this.domNodes.image, this.options.fadeSpeed, function () {\r\n        _this4.isAnimating = true;\r\n\r\n        if (!_this4.isClosing) {\r\n          setTimeout(function () {\r\n            var element = _this4.relatedElements[_this4.currentImageIndex];\r\n\r\n            _this4.currentImage.setAttribute('src', element.getAttribute(_this4.options.sourceAttr));\r\n\r\n            if (_this4.loadedImages.indexOf(element.getAttribute(_this4.options.sourceAttr)) === -1) {\r\n              _this4.show(_this4.domNodes.spinner);\r\n            }\r\n\r\n            if (_this4.domNodes.image.contains(_this4.domNodes.caption)) {\r\n              _this4.domNodes.image.removeChild(_this4.domNodes.caption);\r\n            }\r\n\r\n            _this4.adjustImage(slideDirection);\r\n\r\n            if (_this4.options.preloading) _this4.preload();\r\n          }, 100);\r\n        } else {\r\n          _this4.isAnimating = false;\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: \"adjustImage\",\r\n    value: function adjustImage(direction) {\r\n      var _this5 = this;\r\n\r\n      if (!this.currentImage) {\r\n        return false;\r\n      }\r\n\r\n      var tmpImage = new Image(),\r\n          windowWidth = window.innerWidth * this.options.widthRatio,\r\n          windowHeight = window.innerHeight * this.options.heightRatio;\r\n      tmpImage.setAttribute('src', this.currentImage.getAttribute('src'));\r\n      this.currentImage.dataset.scale = 1;\r\n      this.currentImage.dataset.translateX = 0;\r\n      this.currentImage.dataset.translateY = 0;\r\n      this.zoomPanElement(0, 0, 1);\r\n      tmpImage.addEventListener('error', function (event) {\r\n        _this5.relatedElements[_this5.currentImageIndex].dispatchEvent(new Event('error.' + _this5.eventNamespace));\r\n\r\n        _this5.isAnimating = false;\r\n        _this5.isOpen = true;\r\n        _this5.domNodes.spinner.style.display = 'none';\r\n        var dirIsDefined = direction === 1 || direction === -1;\r\n\r\n        if (_this5.initialImageIndex === _this5.currentImageIndex && dirIsDefined) {\r\n          return _this5.close();\r\n        }\r\n\r\n        if (_this5.options.alertError) {\r\n          alert(_this5.options.alertErrorMessage);\r\n        }\r\n\r\n        _this5.loadImage(dirIsDefined ? direction : 1);\r\n      });\r\n      tmpImage.addEventListener('load', function (event) {\r\n        if (typeof direction !== 'undefined') {\r\n          _this5.relatedElements[_this5.currentImageIndex].dispatchEvent(new Event('changed.' + _this5.eventNamespace));\r\n\r\n          _this5.relatedElements[_this5.currentImageIndex].dispatchEvent(new Event((direction === 1 ? 'nextDone' : 'prevDone') + '.' + _this5.eventNamespace));\r\n        } // history\r\n\r\n\r\n        if (_this5.options.history) {\r\n          _this5.updateURL();\r\n        }\r\n\r\n        if (_this5.loadedImages.indexOf(_this5.currentImage.getAttribute('src')) === -1) {\r\n          _this5.loadedImages.push(_this5.currentImage.getAttribute('src'));\r\n        }\r\n\r\n        var imageWidth = event.target.width,\r\n            imageHeight = event.target.height;\r\n\r\n        if (_this5.options.scaleImageToRatio || imageWidth > windowWidth || imageHeight > windowHeight) {\r\n          var ratio = imageWidth / imageHeight > windowWidth / windowHeight ? imageWidth / windowWidth : imageHeight / windowHeight;\r\n          imageWidth /= ratio;\r\n          imageHeight /= ratio;\r\n        }\r\n\r\n        _this5.domNodes.image.style.top = (window.innerHeight - imageHeight) / 2 + 'px';\r\n        _this5.domNodes.image.style.left = (window.innerWidth - imageWidth - _this5.globalScrollbarWidth) / 2 + 'px';\r\n        _this5.domNodes.image.style.width = imageWidth + 'px';\r\n        _this5.domNodes.image.style.height = imageHeight + 'px';\r\n        _this5.domNodes.spinner.style.display = 'none';\r\n\r\n        if (_this5.options.focus) {\r\n          _this5.forceFocus();\r\n        }\r\n\r\n        _this5.fadeIn(_this5.currentImage, _this5.options.fadeSpeed, function () {\r\n          if (_this5.options.focus) {\r\n            _this5.domNodes.wrapper.focus();\r\n          }\r\n        });\r\n\r\n        _this5.isOpen = true;\r\n        var captionContainer, captionText;\r\n\r\n        if (typeof _this5.options.captionSelector === 'string') {\r\n          captionContainer = _this5.options.captionSelector === 'self' ? _this5.relatedElements[_this5.currentImageIndex] : _this5.relatedElements[_this5.currentImageIndex].querySelector(_this5.options.captionSelector);\r\n        } else if (typeof _this5.options.captionSelector === 'function') {\r\n          captionContainer = _this5.options.captionSelector(_this5.relatedElements[_this5.currentImageIndex]);\r\n        }\r\n\r\n        if (_this5.options.captions && captionContainer) {\r\n          if (_this5.options.captionType === 'data') {\r\n            captionText = captionContainer.dataset[_this5.options.captionsData];\r\n          } else if (_this5.options.captionType === 'text') {\r\n            captionText = captionContainer.innerHTML;\r\n          } else {\r\n            captionText = captionContainer.getAttribute(_this5.options.captionsData);\r\n          }\r\n        }\r\n\r\n        if (!_this5.options.loop) {\r\n          if (_this5.currentImageIndex === 0) {\r\n            _this5.hide(_this5.domNodes.navigation.querySelector('.sl-prev'));\r\n          }\r\n\r\n          if (_this5.currentImageIndex >= _this5.relatedElements.length - 1) {\r\n            _this5.hide(_this5.domNodes.navigation.querySelector('.sl-next'));\r\n          }\r\n\r\n          if (_this5.currentImageIndex > 0) {\r\n            _this5.show(_this5.domNodes.navigation.querySelector('.sl-prev'));\r\n          }\r\n\r\n          if (_this5.currentImageIndex < _this5.relatedElements.length - 1) {\r\n            _this5.show(_this5.domNodes.navigation.querySelector('.sl-next'));\r\n          }\r\n        } else {\r\n          if (_this5.relatedElements.length === 1) {\r\n            _this5.hide(_this5.domNodes.navigation.querySelectorAll('.sl-prev, .sl-next'));\r\n          } else {\r\n            _this5.show(_this5.domNodes.navigation.querySelectorAll('.sl-prev, .sl-next'));\r\n          }\r\n        }\r\n\r\n        if (direction === 1 || direction === -1) {\r\n          if (_this5.options.animationSlide) {\r\n            _this5.slide(0, 100 * direction + 'px');\r\n\r\n            setTimeout(function () {\r\n              _this5.slide(_this5.options.animationSpeed / 1000, 0 + 'px');\r\n            }, 50);\r\n          }\r\n\r\n          _this5.fadeIn(_this5.domNodes.image, _this5.options.fadeSpeed, function () {\r\n            _this5.isAnimating = false;\r\n\r\n            _this5.setCaption(captionText, imageWidth);\r\n          });\r\n        } else {\r\n          _this5.isAnimating = false;\r\n\r\n          _this5.setCaption(captionText, imageWidth);\r\n        }\r\n\r\n        if (_this5.options.additionalHtml && !_this5.domNodes.additionalHtml) {\r\n          _this5.domNodes.additionalHtml = document.createElement('div');\r\n\r\n          _this5.domNodes.additionalHtml.classList.add('sl-additional-html');\r\n\r\n          _this5.domNodes.additionalHtml.innerHTML = _this5.options.additionalHtml;\r\n\r\n          _this5.domNodes.image.appendChild(_this5.domNodes.additionalHtml);\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: \"zoomPanElement\",\r\n    value: function zoomPanElement(targetOffsetX, targetOffsetY, targetScale) {\r\n      this.currentImage.style[this.transitionPrefix + 'transform'] = 'translate(' + targetOffsetX + ',' + targetOffsetY + ') scale(' + targetScale + ')';\r\n    }\r\n  }, {\r\n    key: \"minMax\",\r\n    value: function minMax(value, min, max) {\r\n      return value < min ? min : value > max ? max : value;\r\n    }\r\n  }, {\r\n    key: \"setZoomData\",\r\n    value: function setZoomData(initialScale, targetOffsetX, targetOffsetY) {\r\n      this.currentImage.dataset.scale = initialScale;\r\n      this.currentImage.dataset.translateX = targetOffsetX;\r\n      this.currentImage.dataset.translateY = targetOffsetY;\r\n    }\r\n  }, {\r\n    key: \"hashchangeHandler\",\r\n    value: function hashchangeHandler() {\r\n      if (this.isOpen && this.hash === this.initialLocationHash) {\r\n        this.hashReseted = true;\r\n        this.close();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"addEvents\",\r\n    value: function addEvents() {\r\n      var _this6 = this;\r\n\r\n      // resize/responsive\r\n      this.addEventListener(window, 'resize.' + this.eventNamespace, function (event) {\r\n        //this.adjustImage.bind(this)\r\n        if (_this6.isOpen) {\r\n          _this6.adjustImage();\r\n        }\r\n      });\r\n      this.addEventListener(this.domNodes.closeButton, ['click.' + this.eventNamespace, 'touchstart.' + this.eventNamespace], this.close.bind(this));\r\n\r\n      if (this.options.history) {\r\n        setTimeout(function () {\r\n          _this6.addEventListener(window, 'hashchange.' + _this6.eventNamespace, function (event) {\r\n            if (_this6.isOpen) {\r\n              _this6.hashchangeHandler();\r\n            }\r\n          });\r\n        }, 40);\r\n      }\r\n\r\n      this.addEventListener(this.domNodes.navigation.getElementsByTagName('button'), 'click.' + this.eventNamespace, function (event) {\r\n        if (!event.currentTarget.tagName.match(/button/i)) {\r\n          return true;\r\n        }\r\n\r\n        event.preventDefault();\r\n        _this6.controlCoordinates.swipeDiff = 0;\r\n\r\n        _this6.loadImage(event.currentTarget.classList.contains('sl-next') ? 1 : -1);\r\n      });\r\n\r\n      if (this.options.scrollZoom) {\r\n        var scale = 1;\r\n        this.addEventListener(this.domNodes.image, ['mousewheel', 'DOMMouseScroll'], function (event) {\r\n          if (_this6.controlCoordinates.mousedown || _this6.isAnimating || _this6.isClosing || !_this6.isOpen) {\r\n            return true;\r\n          }\r\n\r\n          if (_this6.controlCoordinates.containerHeight == 0) {\r\n            _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\r\n            _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\r\n            _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\r\n            _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\r\n            _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\r\n            _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\r\n            _this6.controlCoordinates.initialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\r\n            _this6.controlCoordinates.initialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\r\n          }\r\n\r\n          event.preventDefault();\r\n          var delta = event.delta || event.wheelDelta;\r\n\r\n          if (delta === undefined) {\r\n            //we are on firefox\r\n            delta = event.detail;\r\n          }\r\n\r\n          delta = Math.max(-1, Math.min(1, delta)); // cap the delta to [-1,1] for cross browser consistency\r\n          // apply zoom\r\n\r\n          scale += delta * _this6.options.scrollZoomFactor * scale;\r\n          scale = Math.max(1, Math.min(_this6.options.maxZoom, scale));\r\n          _this6.controlCoordinates.targetScale = scale;\r\n          _this6.controlCoordinates.pinchOffsetX = event.pageX;\r\n          _this6.controlCoordinates.pinchOffsetY = event.pageY;\r\n          _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\r\n          _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\r\n          _this6.controlCoordinates.scaleDifference = _this6.controlCoordinates.targetScale - _this6.controlCoordinates.initialScale;\r\n          _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.initialOffsetX - (_this6.controlCoordinates.pinchOffsetX - _this6.controlCoordinates.containerOffsetX - _this6.controlCoordinates.containerWidth / 2 - _this6.controlCoordinates.initialOffsetX) / (_this6.controlCoordinates.targetScale - _this6.controlCoordinates.scaleDifference) * _this6.controlCoordinates.scaleDifference, _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\r\n          _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.initialOffsetY - (_this6.controlCoordinates.pinchOffsetY - _this6.controlCoordinates.containerOffsetY - _this6.controlCoordinates.containerHeight / 2 - _this6.controlCoordinates.initialOffsetY) / (_this6.controlCoordinates.targetScale - _this6.controlCoordinates.scaleDifference) * _this6.controlCoordinates.scaleDifference, _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\r\n\r\n          _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\r\n\r\n          if (_this6.controlCoordinates.targetScale > 1) {\r\n            _this6.controlCoordinates.zoomed = true;\r\n\r\n            if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\r\n              _this6.fadeOut(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n            }\r\n          } else {\r\n            if (_this6.controlCoordinates.initialScale === 1) {\r\n              _this6.controlCoordinates.zoomed = false;\r\n\r\n              if (_this6.domNodes.caption.style.display === 'none') {\r\n                _this6.fadeIn(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n              }\r\n            }\r\n\r\n            _this6.controlCoordinates.initialPinchDistance = null;\r\n            _this6.controlCoordinates.capture = false;\r\n          }\r\n\r\n          _this6.controlCoordinates.initialPinchDistance = _this6.controlCoordinates.targetPinchDistance;\r\n          _this6.controlCoordinates.initialScale = _this6.controlCoordinates.targetScale;\r\n          _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\r\n          _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\r\n\r\n          _this6.setZoomData(_this6.controlCoordinates.targetScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\r\n\r\n          _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\r\n        });\r\n      }\r\n\r\n      this.addEventListener(this.domNodes.image, ['touchstart.' + this.eventNamespace, 'mousedown.' + this.eventNamespace], function (event) {\r\n        if (event.target.tagName === 'A' && event.type === 'touchstart') {\r\n          return true;\r\n        }\r\n\r\n        if (event.type === 'mousedown') {\r\n          event.preventDefault();\r\n          _this6.controlCoordinates.initialPointerOffsetX = event.clientX;\r\n          _this6.controlCoordinates.initialPointerOffsetY = event.clientY;\r\n          _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\r\n          _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\r\n          _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\r\n          _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\r\n          _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\r\n          _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\r\n          _this6.controlCoordinates.initialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\r\n          _this6.controlCoordinates.initialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\r\n          _this6.controlCoordinates.capture = true;\r\n        } else {\r\n          _this6.controlCoordinates.touchCount = event.touches.length;\r\n          _this6.controlCoordinates.initialPointerOffsetX = event.touches[0].clientX;\r\n          _this6.controlCoordinates.initialPointerOffsetY = event.touches[0].clientY;\r\n          _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\r\n          _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\r\n          _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\r\n          _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\r\n          _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\r\n          _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\r\n\r\n          if (_this6.controlCoordinates.touchCount === 1)\r\n            /* Single touch */\r\n            {\r\n              if (!_this6.controlCoordinates.doubleTapped) {\r\n                _this6.controlCoordinates.doubleTapped = true;\r\n                setTimeout(function () {\r\n                  _this6.controlCoordinates.doubleTapped = false;\r\n                }, 300);\r\n              } else {\r\n                _this6.currentImage.classList.add('sl-transition');\r\n\r\n                if (!_this6.controlCoordinates.zoomed) {\r\n                  _this6.controlCoordinates.initialScale = _this6.options.doubleTapZoom;\r\n\r\n                  _this6.setZoomData(_this6.controlCoordinates.initialScale, 0, 0);\r\n\r\n                  _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\r\n\r\n                  if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\r\n                    _this6.fadeOut(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n                  }\r\n\r\n                  _this6.controlCoordinates.zoomed = true;\r\n                } else {\r\n                  _this6.controlCoordinates.initialScale = 1;\r\n\r\n                  _this6.setZoomData(_this6.controlCoordinates.initialScale, 0, 0);\r\n\r\n                  _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\r\n\r\n                  _this6.controlCoordinates.zoomed = false;\r\n                }\r\n\r\n                setTimeout(function () {\r\n                  if (_this6.currentImage) {\r\n                    _this6.currentImage.classList.remove('sl-transition');\r\n                  }\r\n                }, 200);\r\n                return false;\r\n              }\r\n\r\n              _this6.controlCoordinates.initialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\r\n              _this6.controlCoordinates.initialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\r\n            } else if (_this6.controlCoordinates.touchCount === 2)\r\n            /* Pinch */\r\n            {\r\n              _this6.controlCoordinates.initialPointerOffsetX2 = event.touches[1].clientX;\r\n              _this6.controlCoordinates.initialPointerOffsetY2 = event.touches[1].clientY;\r\n              _this6.controlCoordinates.initialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\r\n              _this6.controlCoordinates.initialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\r\n              _this6.controlCoordinates.pinchOffsetX = (_this6.controlCoordinates.initialPointerOffsetX + _this6.controlCoordinates.initialPointerOffsetX2) / 2;\r\n              _this6.controlCoordinates.pinchOffsetY = (_this6.controlCoordinates.initialPointerOffsetY + _this6.controlCoordinates.initialPointerOffsetY2) / 2;\r\n              _this6.controlCoordinates.initialPinchDistance = Math.sqrt((_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialPointerOffsetX2) * (_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialPointerOffsetX2) + (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialPointerOffsetY2) * (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialPointerOffsetY2));\r\n            }\r\n\r\n          _this6.controlCoordinates.capture = true;\r\n        }\r\n\r\n        if (_this6.controlCoordinates.mousedown) return true;\r\n\r\n        if (_this6.transitionCapable) {\r\n          _this6.controlCoordinates.imageLeft = parseInt(_this6.domNodes.image.style.left, 10);\r\n        }\r\n\r\n        _this6.controlCoordinates.mousedown = true;\r\n        _this6.controlCoordinates.swipeDiff = 0;\r\n        _this6.controlCoordinates.swipeYDiff = 0;\r\n        _this6.controlCoordinates.swipeStart = event.pageX || event.touches[0].pageX;\r\n        _this6.controlCoordinates.swipeYStart = event.pageY || event.touches[0].pageY;\r\n        return false;\r\n      });\r\n      this.addEventListener(this.domNodes.image, ['touchmove.' + this.eventNamespace, 'mousemove.' + this.eventNamespace, 'MSPointerMove'], function (event) {\r\n        if (!_this6.controlCoordinates.mousedown) {\r\n          return true;\r\n        }\r\n\r\n        if (event.type === 'touchmove') {\r\n          if (_this6.controlCoordinates.capture === false) {\r\n            return false;\r\n          }\r\n\r\n          _this6.controlCoordinates.pointerOffsetX = event.touches[0].clientX;\r\n          _this6.controlCoordinates.pointerOffsetY = event.touches[0].clientY;\r\n          _this6.controlCoordinates.touchCount = event.touches.length;\r\n          _this6.controlCoordinates.touchmoveCount++;\r\n\r\n          if (_this6.controlCoordinates.touchCount > 1)\r\n            /* Pinch */\r\n            {\r\n              _this6.controlCoordinates.pointerOffsetX2 = event.touches[1].clientX;\r\n              _this6.controlCoordinates.pointerOffsetY2 = event.touches[1].clientY;\r\n              _this6.controlCoordinates.targetPinchDistance = Math.sqrt((_this6.controlCoordinates.pointerOffsetX - _this6.controlCoordinates.pointerOffsetX2) * (_this6.controlCoordinates.pointerOffsetX - _this6.controlCoordinates.pointerOffsetX2) + (_this6.controlCoordinates.pointerOffsetY - _this6.controlCoordinates.pointerOffsetY2) * (_this6.controlCoordinates.pointerOffsetY - _this6.controlCoordinates.pointerOffsetY2));\r\n\r\n              if (_this6.controlCoordinates.initialPinchDistance === null) {\r\n                _this6.controlCoordinates.initialPinchDistance = _this6.controlCoordinates.targetPinchDistance;\r\n              }\r\n\r\n              if (Math.abs(_this6.controlCoordinates.initialPinchDistance - _this6.controlCoordinates.targetPinchDistance) >= 1) {\r\n                /* Initialize helpers */\r\n                _this6.controlCoordinates.targetScale = _this6.minMax(_this6.controlCoordinates.targetPinchDistance / _this6.controlCoordinates.initialPinchDistance * _this6.controlCoordinates.initialScale, 1, _this6.options.maxZoom);\r\n                _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\r\n                _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\r\n                _this6.controlCoordinates.scaleDifference = _this6.controlCoordinates.targetScale - _this6.controlCoordinates.initialScale;\r\n                _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.initialOffsetX - (_this6.controlCoordinates.pinchOffsetX - _this6.controlCoordinates.containerOffsetX - _this6.controlCoordinates.containerWidth / 2 - _this6.controlCoordinates.initialOffsetX) / (_this6.controlCoordinates.targetScale - _this6.controlCoordinates.scaleDifference) * _this6.controlCoordinates.scaleDifference, _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\r\n                _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.initialOffsetY - (_this6.controlCoordinates.pinchOffsetY - _this6.controlCoordinates.containerOffsetY - _this6.controlCoordinates.containerHeight / 2 - _this6.controlCoordinates.initialOffsetY) / (_this6.controlCoordinates.targetScale - _this6.controlCoordinates.scaleDifference) * _this6.controlCoordinates.scaleDifference, _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\r\n\r\n                _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\r\n\r\n                if (_this6.controlCoordinates.targetScale > 1) {\r\n                  _this6.controlCoordinates.zoomed = true;\r\n\r\n                  if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\r\n                    _this6.fadeOut(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n                  }\r\n                }\r\n\r\n                _this6.controlCoordinates.initialPinchDistance = _this6.controlCoordinates.targetPinchDistance;\r\n                _this6.controlCoordinates.initialScale = _this6.controlCoordinates.targetScale;\r\n                _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\r\n                _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\r\n              }\r\n            } else {\r\n            _this6.controlCoordinates.targetScale = _this6.controlCoordinates.initialScale;\r\n            _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\r\n            _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\r\n            _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetX - (_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialOffsetX), _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\r\n            _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetY - (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialOffsetY), _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\r\n\r\n            if (Math.abs(_this6.controlCoordinates.targetOffsetX) === Math.abs(_this6.controlCoordinates.limitOffsetX)) {\r\n              _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\r\n              _this6.controlCoordinates.initialPointerOffsetX = _this6.controlCoordinates.pointerOffsetX;\r\n            }\r\n\r\n            if (Math.abs(_this6.controlCoordinates.targetOffsetY) === Math.abs(_this6.controlCoordinates.limitOffsetY)) {\r\n              _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\r\n              _this6.controlCoordinates.initialPointerOffsetY = _this6.controlCoordinates.pointerOffsetY;\r\n            }\r\n\r\n            _this6.setZoomData(_this6.controlCoordinates.initialScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\r\n\r\n            _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\r\n          }\r\n        }\r\n        /* Mouse Move implementation */\r\n\r\n\r\n        if (event.type === 'mousemove' && _this6.controlCoordinates.mousedown) {\r\n          if (event.type == 'touchmove') return true;\r\n          event.preventDefault();\r\n          if (_this6.controlCoordinates.capture === false) return false;\r\n          _this6.controlCoordinates.pointerOffsetX = event.clientX;\r\n          _this6.controlCoordinates.pointerOffsetY = event.clientY;\r\n          _this6.controlCoordinates.targetScale = _this6.controlCoordinates.initialScale;\r\n          _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\r\n          _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\r\n          _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetX - (_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialOffsetX), _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\r\n          _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetY - (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialOffsetY), _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\r\n\r\n          if (Math.abs(_this6.controlCoordinates.targetOffsetX) === Math.abs(_this6.controlCoordinates.limitOffsetX)) {\r\n            _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\r\n            _this6.controlCoordinates.initialPointerOffsetX = _this6.controlCoordinates.pointerOffsetX;\r\n          }\r\n\r\n          if (Math.abs(_this6.controlCoordinates.targetOffsetY) === Math.abs(_this6.controlCoordinates.limitOffsetY)) {\r\n            _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\r\n            _this6.controlCoordinates.initialPointerOffsetY = _this6.controlCoordinates.pointerOffsetY;\r\n          }\r\n\r\n          _this6.setZoomData(_this6.controlCoordinates.initialScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\r\n\r\n          _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\r\n        }\r\n\r\n        if (!_this6.controlCoordinates.zoomed) {\r\n          _this6.controlCoordinates.swipeEnd = event.pageX || event.touches[0].pageX;\r\n          _this6.controlCoordinates.swipeYEnd = event.pageY || event.touches[0].pageY;\r\n          _this6.controlCoordinates.swipeDiff = _this6.controlCoordinates.swipeStart - _this6.controlCoordinates.swipeEnd;\r\n          _this6.controlCoordinates.swipeYDiff = _this6.controlCoordinates.swipeYStart - _this6.controlCoordinates.swipeYEnd;\r\n\r\n          if (_this6.options.animationSlide) {\r\n            _this6.slide(0, -_this6.controlCoordinates.swipeDiff + 'px');\r\n          }\r\n        }\r\n      });\r\n      this.addEventListener(this.domNodes.image, ['touchend.' + this.eventNamespace, 'mouseup.' + this.eventNamespace, 'touchcancel.' + this.eventNamespace, 'mouseleave.' + this.eventNamespace, 'pointerup', 'pointercancel', 'MSPointerUp', 'MSPointerCancel'], function (event) {\r\n        if (_this6.isTouchDevice && event.type === 'touchend') {\r\n          _this6.controlCoordinates.touchCount = event.touches.length;\r\n\r\n          if (_this6.controlCoordinates.touchCount === 0)\r\n            /* No touch */\r\n            {\r\n              /* Set attributes */\r\n              if (_this6.currentImage) {\r\n                _this6.setZoomData(_this6.controlCoordinates.initialScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\r\n              }\r\n\r\n              if (_this6.controlCoordinates.initialScale === 1) {\r\n                _this6.controlCoordinates.zoomed = false;\r\n\r\n                if (_this6.domNodes.caption.style.display === 'none') {\r\n                  _this6.fadeIn(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n                }\r\n              }\r\n\r\n              _this6.controlCoordinates.initialPinchDistance = null;\r\n              _this6.controlCoordinates.capture = false;\r\n            } else if (_this6.controlCoordinates.touchCount === 1)\r\n            /* Single touch */\r\n            {\r\n              _this6.controlCoordinates.initialPointerOffsetX = event.touches[0].clientX;\r\n              _this6.controlCoordinates.initialPointerOffsetY = event.touches[0].clientY;\r\n            } else if (_this6.controlCoordinates.touchCount > 1)\r\n            /* Pinch */\r\n            {\r\n              _this6.controlCoordinates.initialPinchDistance = null;\r\n            }\r\n        }\r\n\r\n        if (_this6.controlCoordinates.mousedown) {\r\n          _this6.controlCoordinates.mousedown = false;\r\n          var possibleDir = true;\r\n\r\n          if (!_this6.options.loop) {\r\n            if (_this6.currentImageIndex === 0 && _this6.controlCoordinates.swipeDiff < 0) {\r\n              possibleDir = false;\r\n            }\r\n\r\n            if (_this6.currentImageIndex >= _this6.relatedElements.length - 1 && _this6.controlCoordinates.swipeDiff > 0) {\r\n              possibleDir = false;\r\n            }\r\n          }\r\n\r\n          if (Math.abs(_this6.controlCoordinates.swipeDiff) > _this6.options.swipeTolerance && possibleDir) {\r\n            _this6.loadImage(_this6.controlCoordinates.swipeDiff > 0 ? 1 : -1);\r\n          } else if (_this6.options.animationSlide) {\r\n            _this6.slide(_this6.options.animationSpeed / 1000, 0 + 'px');\r\n          }\r\n\r\n          if (_this6.options.swipeClose && Math.abs(_this6.controlCoordinates.swipeYDiff) > 50 && Math.abs(_this6.controlCoordinates.swipeDiff) < _this6.options.swipeTolerance) {\r\n            _this6.close();\r\n          }\r\n        }\r\n      });\r\n      this.addEventListener(this.domNodes.image, ['dblclick'], function (event) {\r\n        if (_this6.isTouchDevice) return;\r\n        _this6.controlCoordinates.initialPointerOffsetX = event.clientX;\r\n        _this6.controlCoordinates.initialPointerOffsetY = event.clientY;\r\n        _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\r\n        _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\r\n        _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\r\n        _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\r\n        _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\r\n        _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\r\n\r\n        _this6.currentImage.classList.add('sl-transition');\r\n\r\n        if (!_this6.controlCoordinates.zoomed) {\r\n          _this6.controlCoordinates.initialScale = _this6.options.doubleTapZoom;\r\n\r\n          _this6.setZoomData(_this6.controlCoordinates.initialScale, 0, 0);\r\n\r\n          _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\r\n\r\n          if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\r\n            _this6.fadeOut(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n          }\r\n\r\n          _this6.controlCoordinates.zoomed = true;\r\n        } else {\r\n          _this6.controlCoordinates.initialScale = 1;\r\n\r\n          _this6.setZoomData(_this6.controlCoordinates.initialScale, 0, 0);\r\n\r\n          _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\r\n\r\n          _this6.controlCoordinates.zoomed = false;\r\n\r\n          if (_this6.domNodes.caption.style.display === 'none') {\r\n            _this6.fadeIn(_this6.domNodes.caption, _this6.options.fadeSpeed);\r\n          }\r\n        }\r\n\r\n        setTimeout(function () {\r\n          if (_this6.currentImage) {\r\n            _this6.currentImage.classList.remove('sl-transition');\r\n\r\n            _this6.currentImage.style[_this6.transitionPrefix + 'transform-origin'] = null;\r\n          }\r\n        }, 200);\r\n        _this6.controlCoordinates.capture = true;\r\n        return false;\r\n      });\r\n    }\r\n  }, {\r\n    key: \"getDimensions\",\r\n    value: function getDimensions(element) {\r\n      var styles = window.getComputedStyle(element),\r\n          height = element.offsetHeight,\r\n          width = element.offsetWidth,\r\n          borderTopWidth = parseFloat(styles.borderTopWidth),\r\n          borderBottomWidth = parseFloat(styles.borderBottomWidth),\r\n          paddingTop = parseFloat(styles.paddingTop),\r\n          paddingBottom = parseFloat(styles.paddingBottom),\r\n          borderLeftWidth = parseFloat(styles.borderLeftWidth),\r\n          borderRightWidth = parseFloat(styles.borderRightWidth),\r\n          paddingLeft = parseFloat(styles.paddingLeft),\r\n          paddingRight = parseFloat(styles.paddingRight);\r\n      return {\r\n        height: height - borderBottomWidth - borderTopWidth - paddingTop - paddingBottom,\r\n        width: width - borderLeftWidth - borderRightWidth - paddingLeft - paddingRight\r\n      };\r\n    }\r\n  }, {\r\n    key: \"updateHash\",\r\n    value: function updateHash() {\r\n      var newHash = 'pid=' + (this.currentImageIndex + 1),\r\n          newURL = window.location.href.split('#')[0] + '#' + newHash;\r\n      this.hashReseted = false;\r\n\r\n      if (this.pushStateSupport) {\r\n        window.history[this.historyHasChanges ? 'replaceState' : 'pushState']('', document.title, newURL);\r\n      } else {\r\n        // what is the browser target of this?\r\n        if (this.historyHasChanges) {\r\n          window.location.replace(newURL);\r\n        } else {\r\n          window.location.hash = newHash;\r\n        }\r\n      }\r\n\r\n      if (!this.historyHasChanges) {\r\n        this.urlChangedOnce = true;\r\n      }\r\n\r\n      this.historyHasChanges = true;\r\n    }\r\n  }, {\r\n    key: \"resetHash\",\r\n    value: function resetHash() {\r\n      this.hashReseted = true;\r\n\r\n      if (this.urlChangedOnce) {\r\n        history.back();\r\n      } else {\r\n        if (this.pushStateSupport) {\r\n          history.pushState('', document.title, window.location.pathname + window.location.search);\r\n        } else {\r\n          window.location.hash = '';\r\n        }\r\n      } //\r\n      //in case an history operation is still pending\r\n\r\n\r\n      clearTimeout(this.historyUpdateTimeout);\r\n    }\r\n  }, {\r\n    key: \"updateURL\",\r\n    value: function updateURL() {\r\n      clearTimeout(this.historyUpdateTimeout);\r\n\r\n      if (!this.historyHasChanges) {\r\n        this.updateHash(); // first time\r\n      } else {\r\n        this.historyUpdateTimeout = setTimeout(this.updateHash.bind(this), 800);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"setCaption\",\r\n    value: function setCaption(captionText, imageWidth) {\r\n      var _this7 = this;\r\n\r\n      if (this.options.captions && captionText && captionText !== '' && typeof captionText !== \"undefined\") {\r\n        this.hide(this.domNodes.caption);\r\n        this.domNodes.caption.style.width = imageWidth + 'px';\r\n        this.domNodes.caption.innerHTML = captionText;\r\n        this.domNodes.image.appendChild(this.domNodes.caption);\r\n        setTimeout(function () {\r\n          _this7.fadeIn(_this7.domNodes.caption, _this7.options.fadeSpeed);\r\n        }, this.options.captionDelay);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"slide\",\r\n    value: function slide(speed, pos) {\r\n      if (!this.transitionCapable) {\r\n        return this.domNodes.image.style.left = pos;\r\n      }\r\n\r\n      this.domNodes.image.style[this.transitionPrefix + 'transform'] = 'translateX(' + pos + ')';\r\n      this.domNodes.image.style[this.transitionPrefix + 'transition'] = this.transitionPrefix + 'transform ' + speed + 's linear';\r\n    }\r\n  }, {\r\n    key: \"getRelated\",\r\n    value: function getRelated(rel) {\r\n      var elems;\r\n\r\n      if (rel && rel !== false && rel !== 'nofollow') {\r\n        elems = Array.from(this.elements).filter(function (element) {\r\n          return element.getAttribute('rel') === rel;\r\n        });\r\n      } else {\r\n        elems = this.elements;\r\n      }\r\n\r\n      return elems;\r\n    }\r\n  }, {\r\n    key: \"openImage\",\r\n    value: function openImage(element) {\r\n      var _this8 = this;\r\n\r\n      element.dispatchEvent(new Event('show.' + this.eventNamespace));\r\n\r\n      if (this.options.disableScroll) {\r\n        this.globalScrollbarWidth = this.toggleScrollbar('hide');\r\n      }\r\n\r\n      if (this.options.htmlClass && this.options.htmlClass !== '') {\r\n        document.querySelector('html').classList.add(this.options.htmlClass);\r\n      }\r\n\r\n      document.body.appendChild(this.domNodes.wrapper);\r\n      this.domNodes.wrapper.appendChild(this.domNodes.image);\r\n\r\n      if (this.options.overlay) {\r\n        document.body.appendChild(this.domNodes.overlay);\r\n      }\r\n\r\n      this.relatedElements = this.getRelated(element.rel);\r\n\r\n      if (this.options.showCounter) {\r\n        if (this.relatedElements.length == 1 && this.domNodes.wrapper.contains(this.domNodes.counter)) {\r\n          this.domNodes.wrapper.removeChild(this.domNodes.counter);\r\n        } else if (this.relatedElements.length > 1 && !this.domNodes.wrapper.contains(this.domNodes.counter)) {\r\n          this.domNodes.wrapper.appendChild(this.domNodes.counter);\r\n        }\r\n      }\r\n\r\n      this.isAnimating = true;\r\n      this.currentImageIndex = this.relatedElements.indexOf(element);\r\n      var targetURL = element.getAttribute(this.options.sourceAttr);\r\n      this.currentImage = document.createElement('img');\r\n      this.currentImage.style.display = 'none';\r\n      this.currentImage.setAttribute('src', targetURL);\r\n      this.currentImage.dataset.scale = 1;\r\n      this.currentImage.dataset.translateX = 0;\r\n      this.currentImage.dataset.translateY = 0;\r\n\r\n      if (this.loadedImages.indexOf(targetURL) === -1) {\r\n        this.loadedImages.push(targetURL);\r\n      }\r\n\r\n      this.domNodes.image.innerHTML = '';\r\n      this.domNodes.image.setAttribute('style', '');\r\n      this.domNodes.image.appendChild(this.currentImage);\r\n      this.fadeIn(this.domNodes.overlay, this.options.fadeSpeed);\r\n      this.fadeIn([this.domNodes.counter, this.domNodes.navigation, this.domNodes.closeButton], this.options.fadeSpeed);\r\n      this.show(this.domNodes.spinner);\r\n      this.domNodes.counter.querySelector('.sl-current').innerHTML = this.currentImageIndex + 1;\r\n      this.domNodes.counter.querySelector('.sl-total').innerHTML = this.relatedElements.length;\r\n      this.adjustImage();\r\n\r\n      if (this.options.preloading) {\r\n        this.preload();\r\n      }\r\n\r\n      setTimeout(function () {\r\n        element.dispatchEvent(new Event('shown.' + _this8.eventNamespace));\r\n      }, this.options.animationSpeed);\r\n    }\r\n  }, {\r\n    key: \"forceFocus\",\r\n    value: function forceFocus() {\r\n      var _this9 = this;\r\n\r\n      this.removeEventListener(document, 'focusin.' + this.eventNamespace);\r\n      this.addEventListener(document, 'focusin.' + this.eventNamespace, function (event) {\r\n        if (document !== event.target && _this9.domNodes.wrapper !== event.target && !_this9.domNodes.wrapper.contains(event.target)) {\r\n          _this9.domNodes.wrapper.focus();\r\n        }\r\n      });\r\n    } // utility\r\n\r\n  }, {\r\n    key: \"addEventListener\",\r\n    value: function addEventListener(elements, events, callback, opts) {\r\n      elements = this.wrap(elements);\r\n      events = this.wrap(events);\r\n\r\n      var _iterator = _createForOfIteratorHelper(elements),\r\n          _step;\r\n\r\n      try {\r\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\r\n          var element = _step.value;\r\n\r\n          if (!element.namespaces) {\r\n            element.namespaces = {};\r\n          } // save the namespaces addEventListener the DOM element itself\r\n\r\n\r\n          var _iterator2 = _createForOfIteratorHelper(events),\r\n              _step2;\r\n\r\n          try {\r\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\r\n              var event = _step2.value;\r\n              var options = opts || false;\r\n              var needsPassiveFix = ['touchstart', 'touchmove'].indexOf(event.split('.')[0]) >= 0;\r\n\r\n              if (needsPassiveFix && this.isPassiveEventsSupported) {\r\n                if (_typeof(options) === 'object') {\r\n                  options.passive = true;\r\n                } else {\r\n                  options = {\r\n                    passive: true\r\n                  };\r\n                }\r\n              }\r\n\r\n              element.namespaces[event] = callback;\r\n              element.addEventListener(event.split('.')[0], callback, options);\r\n            }\r\n          } catch (err) {\r\n            _iterator2.e(err);\r\n          } finally {\r\n            _iterator2.f();\r\n          }\r\n        }\r\n      } catch (err) {\r\n        _iterator.e(err);\r\n      } finally {\r\n        _iterator.f();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"removeEventListener\",\r\n    value: function removeEventListener(elements, events) {\r\n      elements = this.wrap(elements);\r\n      events = this.wrap(events);\r\n\r\n      var _iterator3 = _createForOfIteratorHelper(elements),\r\n          _step3;\r\n\r\n      try {\r\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\r\n          var element = _step3.value;\r\n\r\n          var _iterator4 = _createForOfIteratorHelper(events),\r\n              _step4;\r\n\r\n          try {\r\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\r\n              var event = _step4.value;\r\n\r\n              if (element.namespaces && element.namespaces[event]) {\r\n                element.removeEventListener(event.split('.')[0], element.namespaces[event]);\r\n                delete element.namespaces[event];\r\n              }\r\n            }\r\n          } catch (err) {\r\n            _iterator4.e(err);\r\n          } finally {\r\n            _iterator4.f();\r\n          }\r\n        }\r\n      } catch (err) {\r\n        _iterator3.e(err);\r\n      } finally {\r\n        _iterator3.f();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"fadeOut\",\r\n    value: function fadeOut(elements, duration, callback) {\r\n      var _this10 = this;\r\n\r\n      elements = this.wrap(elements);\r\n\r\n      var _iterator5 = _createForOfIteratorHelper(elements),\r\n          _step5;\r\n\r\n      try {\r\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\r\n          var element = _step5.value;\r\n          element.style.opacity = 1;\r\n        }\r\n      } catch (err) {\r\n        _iterator5.e(err);\r\n      } finally {\r\n        _iterator5.f();\r\n      }\r\n\r\n      this.isFadeIn = false;\r\n\r\n      var step = 16.66666 / (duration || this.options.fadeSpeed),\r\n          fade = function fade() {\r\n        var currentOpacity = parseFloat(elements[0].style.opacity);\r\n\r\n        if ((currentOpacity -= step) < 0) {\r\n          var _iterator6 = _createForOfIteratorHelper(elements),\r\n              _step6;\r\n\r\n          try {\r\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\r\n              var element = _step6.value;\r\n              element.style.display = \"none\"; // element.style.opacity = '';\r\n\r\n              element.style.opacity = 1;\r\n            }\r\n          } catch (err) {\r\n            _iterator6.e(err);\r\n          } finally {\r\n            _iterator6.f();\r\n          }\r\n\r\n          callback && callback.call(_this10, elements);\r\n        } else {\r\n          var _iterator7 = _createForOfIteratorHelper(elements),\r\n              _step7;\r\n\r\n          try {\r\n            for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\r\n              var _element = _step7.value;\r\n              _element.style.opacity = currentOpacity;\r\n            }\r\n          } catch (err) {\r\n            _iterator7.e(err);\r\n          } finally {\r\n            _iterator7.f();\r\n          }\r\n\r\n          requestAnimationFrame(fade);\r\n        }\r\n      };\r\n\r\n      fade();\r\n    }\r\n  }, {\r\n    key: \"fadeIn\",\r\n    value: function fadeIn(elements, duration, callback, display) {\r\n      var _this11 = this;\r\n\r\n      elements = this.wrap(elements);\r\n\r\n      var _iterator8 = _createForOfIteratorHelper(elements),\r\n          _step8;\r\n\r\n      try {\r\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\r\n          var element = _step8.value;\r\n          element.style.opacity = 0;\r\n          element.style.display = display || \"block\";\r\n        }\r\n      } catch (err) {\r\n        _iterator8.e(err);\r\n      } finally {\r\n        _iterator8.f();\r\n      }\r\n\r\n      this.isFadeIn = true;\r\n\r\n      var opacityTarget = parseFloat(elements[0].dataset.opacityTarget || 1),\r\n          step = 16.66666 * opacityTarget / (duration || this.options.fadeSpeed),\r\n          fade = function fade() {\r\n        var currentOpacity = parseFloat(elements[0].style.opacity);\r\n\r\n        if (!((currentOpacity += step) > opacityTarget)) {\r\n          var _iterator9 = _createForOfIteratorHelper(elements),\r\n              _step9;\r\n\r\n          try {\r\n            for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\r\n              var element = _step9.value;\r\n              element.style.opacity = currentOpacity;\r\n            }\r\n          } catch (err) {\r\n            _iterator9.e(err);\r\n          } finally {\r\n            _iterator9.f();\r\n          }\r\n\r\n          if (!_this11.isFadeIn) return;\r\n          requestAnimationFrame(fade);\r\n        } else {\r\n          var _iterator10 = _createForOfIteratorHelper(elements),\r\n              _step10;\r\n\r\n          try {\r\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\r\n              var _element2 = _step10.value;\r\n              _element2.style.opacity = '';\r\n            }\r\n          } catch (err) {\r\n            _iterator10.e(err);\r\n          } finally {\r\n            _iterator10.f();\r\n          }\r\n\r\n          callback && callback.call(_this11, elements);\r\n        }\r\n      };\r\n\r\n      fade();\r\n    }\r\n  }, {\r\n    key: \"hide\",\r\n    value: function hide(elements) {\r\n      elements = this.wrap(elements);\r\n\r\n      var _iterator11 = _createForOfIteratorHelper(elements),\r\n          _step11;\r\n\r\n      try {\r\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\r\n          var element = _step11.value;\r\n\r\n          if (element.style.display != 'none') {\r\n            element.dataset.initialDisplay = element.style.display;\r\n          }\r\n\r\n          element.style.display = 'none';\r\n        }\r\n      } catch (err) {\r\n        _iterator11.e(err);\r\n      } finally {\r\n        _iterator11.f();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"show\",\r\n    value: function show(elements, display) {\r\n      elements = this.wrap(elements);\r\n\r\n      var _iterator12 = _createForOfIteratorHelper(elements),\r\n          _step12;\r\n\r\n      try {\r\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\r\n          var element = _step12.value;\r\n          element.style.display = element.dataset.initialDisplay || display || 'block';\r\n        }\r\n      } catch (err) {\r\n        _iterator12.e(err);\r\n      } finally {\r\n        _iterator12.f();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"wrap\",\r\n    value: function wrap(input) {\r\n      return typeof input[Symbol.iterator] === 'function' && typeof input !== 'string' ? input : [input];\r\n    }\r\n  }, {\r\n    key: \"on\",\r\n    value: function on(events, callback) {\r\n      events = this.wrap(events);\r\n\r\n      var _iterator13 = _createForOfIteratorHelper(this.elements),\r\n          _step13;\r\n\r\n      try {\r\n        for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\r\n          var element = _step13.value;\r\n\r\n          if (!element.fullyNamespacedEvents) {\r\n            element.fullyNamespacedEvents = {};\r\n          }\r\n\r\n          var _iterator14 = _createForOfIteratorHelper(events),\r\n              _step14;\r\n\r\n          try {\r\n            for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\r\n              var event = _step14.value;\r\n              element.fullyNamespacedEvents[event] = callback;\r\n              element.addEventListener(event, callback);\r\n            }\r\n          } catch (err) {\r\n            _iterator14.e(err);\r\n          } finally {\r\n            _iterator14.f();\r\n          }\r\n        }\r\n      } catch (err) {\r\n        _iterator13.e(err);\r\n      } finally {\r\n        _iterator13.f();\r\n      }\r\n\r\n      return this;\r\n    }\r\n  }, {\r\n    key: \"off\",\r\n    value: function off(events) {\r\n      events = this.wrap(events);\r\n\r\n      var _iterator15 = _createForOfIteratorHelper(this.elements),\r\n          _step15;\r\n\r\n      try {\r\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\r\n          var element = _step15.value;\r\n\r\n          var _iterator16 = _createForOfIteratorHelper(events),\r\n              _step16;\r\n\r\n          try {\r\n            for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\r\n              var event = _step16.value;\r\n\r\n              if (typeof element.fullyNamespacedEvents !== 'undefined' && event in element.fullyNamespacedEvents) {\r\n                element.removeEventListener(event, element.fullyNamespacedEvents[event]);\r\n              }\r\n            }\r\n          } catch (err) {\r\n            _iterator16.e(err);\r\n          } finally {\r\n            _iterator16.f();\r\n          }\r\n        }\r\n      } catch (err) {\r\n        _iterator15.e(err);\r\n      } finally {\r\n        _iterator15.f();\r\n      }\r\n\r\n      return this;\r\n    } // api\r\n\r\n  }, {\r\n    key: \"open\",\r\n    value: function open(elem) {\r\n      elem = elem || this.elements[0];\r\n\r\n      if (typeof jQuery !== \"undefined\" && elem instanceof jQuery) {\r\n        elem = elem.get(0);\r\n      }\r\n\r\n      this.initialImageIndex = this.elements.indexOf(elem);\r\n\r\n      if (this.initialImageIndex > -1) {\r\n        this.openImage(elem);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"next\",\r\n    value: function next() {\r\n      this.loadImage(1);\r\n    }\r\n  }, {\r\n    key: \"prev\",\r\n    value: function prev() {\r\n      this.loadImage(-1);\r\n    } // get some useful data\r\n\r\n  }, {\r\n    key: \"getLighboxData\",\r\n    value: function getLighboxData() {\r\n      return {\r\n        currentImageIndex: this.currentImageIndex,\r\n        currentImage: this.currentImage,\r\n        globalScrollbarWidth: this.globalScrollbarWidth\r\n      };\r\n    } //close is exposed anyways..\r\n\r\n  }, {\r\n    key: \"destroy\",\r\n    value: function destroy() {\r\n      //remove all custom event listeners from elements\r\n      this.off(['close.' + this.eventNamespace, 'closed.' + this.eventNamespace, 'nextImageLoaded.' + this.eventNamespace, 'prevImageLoaded.' + this.eventNamespace, 'change.' + this.eventNamespace, 'nextDone.' + this.eventNamespace, 'prevDone.' + this.eventNamespace, 'error.' + this.eventNamespace, 'changed.' + this.eventNamespace, 'next.' + this.eventNamespace, 'prev.' + this.eventNamespace, 'show.' + this.eventNamespace, 'shown.' + this.eventNamespace]);\r\n      this.removeEventListener(this.elements, 'click.' + this.eventNamespace);\r\n      this.removeEventListener(document, 'focusin.' + this.eventNamespace);\r\n      this.removeEventListener(document.body, 'contextmenu.' + this.eventNamespace);\r\n      this.removeEventListener(document.body, 'keyup.' + this.eventNamespace);\r\n      this.removeEventListener(this.domNodes.navigation.getElementsByTagName('button'), 'click.' + this.eventNamespace);\r\n      this.removeEventListener(this.domNodes.closeButton, 'click.' + this.eventNamespace);\r\n      this.removeEventListener(window, 'resize.' + this.eventNamespace);\r\n      this.removeEventListener(window, 'hashchange.' + this.eventNamespace);\r\n      this.close();\r\n\r\n      if (this.isOpen) {\r\n        document.body.removeChild(this.domNodes.wrapper);\r\n        document.body.removeChild(this.domNodes.overlay);\r\n      }\r\n\r\n      this.elements = null;\r\n    }\r\n  }, {\r\n    key: \"refresh\",\r\n    value: function refresh() {\r\n      if (!this.initialSelector) {\r\n        throw 'refreshing only works when you initialize using a selector!';\r\n      }\r\n\r\n      var options = this.options,\r\n          selector = this.initialSelector;\r\n      this.destroy();\r\n      this.constructor(selector, options);\r\n      return this;\r\n    }\r\n  }]);\r\n\r\n  return SimpleLightbox;\r\n}();\r\n\r\nvar _default = SimpleLightbox;\r\nexports[\"default\"] = _default;\r\nglobal.SimpleLightbox = SimpleLightbox;","export const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","// Add imports above this line\r\nimport SimpleLightbox from \"simplelightbox\";\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nimport { galleryItems } from './gallery-items';\r\n// Change code below this line\r\n\r\nconsole.log(galleryItems);\r\n\r\n\r\nconst gallery = document.querySelector('.gallery');\r\nconst imgMarkUp = makeGallery(galleryItems);\r\ngallery.insertAdjacentHTML('beforeend', imgMarkUp);\r\n\r\nfunction makeGallery(items) {\r\n  return items.map(item => {\r\n      return `<div class=\"gallery__item\">\r\n            <a class=\"gallery__link\" href=\"${item.original}\">\r\n                <img\r\n                    class=\"gallery__image\"\r\n                    src=\"${item.preview}\"\r\n                    data-source=\"${item.original}\"\r\n                    alt=\"${item.description}\"\r\n                />\r\n             </a>\r\n        </div>`;\r\n    })\r\n    .join(' ');\r\n}\r\n\r\nconst lightbox = new SimpleLightbox('.gallery a', { captionsData:'alt', captionDelay:250});\r\n\r\n//lightbox\r\n\r\n/* gallery.addEventListener('click', modalOpen);\r\nfunction modalOpen(event) {\r\n    if (!event.target.classList.contains('gallery__image')) {\r\n        return;\r\n    }\r\n    event.preventDefault();\r\n    const image = event.target.getAttribute('data-source')\r\n    const instance = new SimpleLightbox('.gallery a').create(`<div class = \"modal\"><img src=\"${image}\" width=\"800\" height=\"600\"></div>`);\r\n    instance.show();\r\n\r\n// Ð·Ð°ÐºÑÑÑÐ¸Ðµ ÑÐµÑÐµÐ· ESC\r\n    document.addEventListener('keyup', modalClose);\r\n    function modalClose(event) {\r\n        if (event.key === 'Escape') {\r\n            instance.close();\r\n        }\r\n    }\r\n}\r\n */","var bundleURL = null;\r\nfunction getBundleURLCached() {\r\n  if (!bundleURL) {\r\n    bundleURL = getBundleURL();\r\n  }\r\n\r\n  return bundleURL;\r\n}\r\n\r\nfunction getBundleURL() {\r\n  // Attempt to find the URL of the current script and use that as the base URL\r\n  try {\r\n    throw new Error;\r\n  } catch (err) {\r\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\r\n    if (matches) {\r\n      return getBaseURL(matches[0]);\r\n    }\r\n  }\r\n\r\n  return '/';\r\n}\r\n\r\nfunction getBaseURL(url) {\r\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\r\n}\r\n\r\nexports.getBundleURL = getBundleURLCached;\r\nexports.getBaseURL = getBaseURL;\r\n","var bundle = require('./bundle-url');\r\n\r\nfunction updateLink(link) {\r\n  var newLink = link.cloneNode();\r\n  newLink.onload = function () {\r\n    link.remove();\r\n  };\r\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\r\n  link.parentNode.insertBefore(newLink, link.nextSibling);\r\n}\r\n\r\nvar cssTimeout = null;\r\nfunction reloadCSS() {\r\n  if (cssTimeout) {\r\n    return;\r\n  }\r\n\r\n  cssTimeout = setTimeout(function () {\r\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\r\n    for (var i = 0; i < links.length; i++) {\r\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\r\n        updateLink(links[i]);\r\n      }\r\n    }\r\n\r\n    cssTimeout = null;\r\n  }, 50);\r\n}\r\n\r\nmodule.exports = reloadCSS;\r\n"]}